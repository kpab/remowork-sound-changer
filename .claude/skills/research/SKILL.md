---
name: research
description: |
  調査・リサーチ時に使用するスキル。
  「調査」「リサーチ」「検索」「市場調査」「技術調査」「法的要件」で自動発動。
  技術調査、市場調査、法的調査、セキュリティ調査の4カテゴリをカバー。
allowed-tools: Read, Grep, Glob, WebSearch, WebFetch
version: 1.0.0
updated: 2024-12-27
---

# リサーチスキル (Research Skill)

## 概要

開発・企画に必要な情報収集を行うスキル。
技術仕様、市場動向、法的要件など、多角的な調査をサポート。

## 使用タイミング

- 新機能開発前の技術調査
- プロジェクト企画時の市場調査
- 法的要件・規制の確認
- 外部API・ライブラリの選定

---

## 使用宣言

**このスキルを使用する場合、作業開始時に以下を宣言すること:**

```
このタスクでは research スキルを使用します。
参照: .claude/skills/research/SKILL.md
```

---

## 調査カテゴリ

| カテゴリ | 用途 | 主な調査対象 |
|---------|------|-------------|
| 技術調査 | 実装方法の調査 | Chrome API、ライブラリ、フレームワーク |
| 市場調査 | ビジネス要件の調査 | 競合拡張機能、ユーザーニーズ、トレンド |
| 法的調査 | コンプライアンス確認 | Chrome Web Storeポリシー、プライバシー、ライセンス |
| セキュリティ調査 | 脆弱性・セキュリティ確認 | CVE、拡張機能セキュリティベストプラクティス |

---

## サブエージェント構成（並列調査）

コンテキスト最適化のため、調査を専門サブエージェントに分担できます。

### agents/ 構造

```
research/
├── SKILL.md                      # このファイル
└── agents/                       # 専門サブエージェント
    ├── tech-researcher.md        # 技術調査エージェント
    ├── market-researcher.md      # 市場調査エージェント
    ├── legal-researcher.md       # 法的調査エージェント
    └── security-researcher.md    # セキュリティ調査エージェント
```

### 各サブエージェントの役割

| エージェント | 役割 | 主な調査内容 |
|-------------|------|-------------|
| tech-researcher | 技術調査 | Chrome API、ライブラリ、実装パターン |
| market-researcher | 市場調査 | 競合、ユーザーニーズ、トレンド |
| legal-researcher | 法的調査 | Chrome Web Storeポリシー、ライセンス、プライバシー |
| security-researcher | セキュリティ調査 | 拡張機能セキュリティ、OWASP、脆弱性情報 |

---

## 1. 技術調査 (Technical Research)

### 目的

実装に必要な技術情報を収集する。

### 調査項目

| 項目 | 調査内容 |
|------|---------|
| 公式ドキュメント | Chrome API仕様、使用方法、制限事項 |
| バージョン情報 | Manifest V3要件、API変更履歴 |
| 実装パターン | ベストプラクティス、サンプルコード |
| 依存関係 | 必要なパーミッション、互換性 |

### 調査手順

```
1. Chrome Extensions Documentation で公式ドキュメントを検索
   - API名 + 使用方法
   - パーミッション要件

2. Web検索で実装例を確認
   - "{API名} chrome extension example"
   - "{機能} manifest v3 migration"

3. GitHub で実装例を確認
   - サンプル拡張機能のリポジトリ
   - Issues / Discussions
```

### 出力形式

```markdown
## 技術調査結果

### 調査対象
- API/機能: {名称}
- Manifest V3対応: {対応状況}

### 主要機能

| 機能 | 説明 | 使用方法 |
|------|------|---------|
| {機能1} | {説明} | {コード例} |

### パーミッション要件

- {パーミッション1}
- {パーミッション2}

### 制限事項・注意点

- {制限1}
- {制限2}

### 参考リンク

- [公式ドキュメント]({URL})
- [サンプルコード]({URL})
```

---

## 2. 市場調査 (Market Research)

### 目的

競合状況、ユーザーニーズを調査する。

### 調査項目

| 項目 | 調査内容 |
|------|---------|
| 競合分析 | 競合Chrome拡張機能の強み・弱み |
| ユーザーニーズ | ターゲットユーザーの悩み・課題 |
| レビュー分析 | Chrome Web Storeのレビュー傾向 |

### 3視点調査（3 Angles Research）

| 視点 | 調査内容 | 調査源 |
|------|---------|--------|
| ユーザー | 悩み、痛み、心理的ハードル | Chrome Web Storeレビュー、Reddit |
| 市場/競合 | 既存拡張機能の欠点、差別化ポイント | Chrome Web Store |
| タイミング | 技術的変化（MV3移行など） | Chrome開発者ブログ |

### 出力形式

```markdown
## 市場調査結果

### 調査テーマ
- テーマ: {テーマ}
- 対象市場: Chrome拡張機能

### 競合分析

| 競合名 | 評価 | レビュー数 | 強み | 弱み |
|--------|------|-----------|------|------|
| {競合1} | ⭐4.5 | 1,200 | {強み} | {弱み} |

### ユーザーニーズ

| 悩み/課題 | 出典 |
|----------|------|
| {悩み1} | {出典} |

### 差別化ポイント

- {ポイント1}
- {ポイント2}
```

---

## 3. 法的調査 (Legal Research)

### 目的

Chrome Web Storeポリシー、ライセンス要件を確認する。

### 調査項目

| 項目 | 調査内容 |
|------|---------|
| ストアポリシー | Chrome Web Store Developer Program Policies |
| プライバシー | データ収集・利用に関する要件 |
| ライセンス | OSSライセンス、商用利用条件 |
| パーミッション正当化 | 各パーミッションの使用理由 |

### 主要チェックポイント

#### Chrome Web Storeポリシー

| 項目 | 確認内容 |
|------|---------|
| 単一目的 | 拡張機能は明確な単一目的か |
| パーミッション | 最小限のパーミッションか |
| プライバシー | ユーザーデータの取り扱い |
| コンテンツポリシー | 禁止コンテンツに該当しないか |

### 出力形式

```markdown
## 法的調査結果

### 調査対象
- 対象: {機能/サービス名}

### Chrome Web Storeポリシー準拠

| 項目 | 要件 | 対応状況 |
|------|------|---------|
| 単一目的 | {要件} | [ ] |
| パーミッション | {要件} | [ ] |

### ライセンス確認

| ライブラリ | ライセンス | 商用利用 | 対応要件 |
|-----------|-----------|---------|---------|
| {ライブラリ1} | MIT | ✅ | 著作権表示 |

### 推奨対応

- [ ] {対応1}
- [ ] {対応2}
```

---

## 4. セキュリティ調査 (Security Research)

### 目的

Chrome拡張機能のセキュリティベストプラクティスを調査する。

### 調査項目

| 項目 | 調査内容 |
|------|---------|
| CSP | Content Security Policy設定 |
| XSS対策 | クロスサイトスクリプティング対策 |
| パーミッション | 最小権限の原則 |
| データ保護 | ローカルストレージのセキュリティ |

### Chrome拡張機能セキュリティチェック

| 項目 | 確認内容 |
|------|---------|
| CSP | manifest.jsonにCSPが適切に設定されているか |
| eval禁止 | eval()やinnerHTMLを使用していないか |
| 外部スクリプト | 外部からのスクリプト読み込みを最小化 |
| HTTPS | 外部通信はHTTPSのみか |

### 出力形式

```markdown
## セキュリティ調査結果

### セキュリティチェック

| 項目 | 状況 | 推奨対応 |
|------|------|---------|
| CSP | {状況} | {対応} |
| XSS対策 | {状況} | {対応} |

### 推奨対応

- [ ] {対応1}
- [ ] {対応2}
```

---

## 調査レポートテンプレート

### 保存先

`.claude/research/{YYYY-MM-DD}_{テーマ}.md`

### テンプレート

```markdown
# {調査テーマ} 調査レポート

## 概要

| 項目 | 内容 |
|------|------|
| 調査日 | {YYYY-MM-DD} |
| 調査目的 | {目的} |

## 調査結果サマリー

{1-2行で結論を記載}

## 詳細

### 技術調査（該当する場合）

{技術調査結果}

### 市場調査（該当する場合）

{市場調査結果}

### 法的調査（該当する場合）

{法的調査結果}

## 結論・推奨事項

1. {推奨事項1}
2. {推奨事項2}

## 参考リンク

- {リンク1}
- {リンク2}
```

---

## チェックリスト

| # | 観点 | 確認内容 | 重要度 |
|---|------|----------|--------|
| 1 | 情報源 | 信頼できる情報源から収集しているか | 高 |
| 2 | 最新性 | 情報が最新か（特にMV3関連） | 高 |
| 3 | 複数ソース | 複数の情報源でクロスチェックしているか | 中 |
| 4 | 出典明記 | 出典・参考リンクを明記しているか | 高 |
| 5 | ポリシー準拠 | Chrome Web Storeポリシーに準拠しているか | 高 |

---

## 関連スキル

| スキル | 用途 |
|--------|------|
| [chrome-extension-dev](../chrome-extension-dev/SKILL.md) | Chrome拡張開発ガイド |
| [code-review](../code-review/SKILL.md) | コードレビュー |

---

## Version History

| バージョン | 日付 | 変更内容 |
|-----------|------|----------|
| v1.0.0 | 2024-12-27 | 初版作成（Chrome拡張向けにカスタマイズ） |
