# 機能アイデア集

Remowork Sound Changer の今後の機能アイデアをまとめたドキュメント。

## 表情分析機能

### 概要
TensorFlow.js / face-api.js を使用して、在席確認画像から表情を分析する。

### 検出可能な感情（7つの基本感情）
- 😊 喜び (happy)
- 😢 悲しみ (sad)
- 😠 怒り (angry)
- 😨 恐れ (fearful)
- 😮 驚き (surprised)
- 😒 嫌悪 (disgusted)
- 😐 無表情 (neutral)

### 表示イメージ
```
┌─────────────┐
│   [写真]    │
│             │
├─────────────┤
│ 😊 76  😮 12 │  ← 感情スコア（0〜100）
└─────────────┘
```

### 技術的な考慮事項
- **モデルサイズ**: face-api.js は約5〜10MB
- **処理負荷**: リアルタイムだと重い → 定期検出（10秒ごとなど）推奨
- **精度**: 小さい在席画像（サムネイル）だと精度が落ちる可能性
- **プライバシー**: ローカル処理のみ、外部送信なし

### 実装方針
1. offscreen.js で face-api.js をロード（既存のMediaPipeと同様）
2. 画像変更検知時に表情分析を実行
3. 結果を content script 経由で UI に反映

---

## コミュニケーション促進機能

### 1. 話しかけやすさゲージ
- 表情 + ジェスチャーから「今話しかけていいか」を数値化
- 😊 笑顔 + 👋 手を振る → 話しかけやすさ MAX
- 😐 無表情 + 集中してそう → 話しかけにくい

### 2. チームムード表示
- 全メンバーの感情スコアを集計
- 「今日のチーム元気度: 78%」のように表示
- 時間帯別の推移グラフも可能

### 3. リアクションボタン
- 相手の写真に対して簡単なリアクションを送信
- 例: 👍 いいね / ☕ 休憩しよう / 💪 頑張れ / 🎉 おめでとう
- Remowork のチャット機能と連携できるとベスト

---

## 楽しさ向上機能

### 4. 称号・バッジシステム
- **今日一番笑顔だった人** 🏆
- **ジェスチャーマスター** 🖐️（最も多くジェスチャーした人）
- **皆勤賞** 📅（離席なしで頑張った人）
- **ムードメーカー** 🎭（チームの雰囲気を上げた人）

### 5. ステータス自動更新
- 表情から状態を推測して自動でステータス設定
- 😊 → 「調子いいです！」
- 😐 + 目線が下 → 「集中モード」
- 😪 → 「ちょっと疲れ気味...」

### 6. 日報・週報自動生成
- 1日の感情変化をグラフ化
- 「午前中は集中、午後はリラックス傾向」などの分析
- チーム全体の傾向レポート

---

## 実装優先度（案）

| 優先度 | 機能 | 難易度 | インパクト |
|--------|------|--------|------------|
| 高 | 表情分析（基本） | 中 | 高 |
| 高 | 話しかけやすさゲージ | 低 | 高 |
| 中 | リアクションボタン | 中 | 中 |
| 中 | チームムード表示 | 中 | 中 |
| 低 | 称号・バッジ | 低 | 中 |
| 低 | 日報自動生成 | 高 | 低 |

---

## 参考ライブラリ

### 表情認識
- [face-api.js](https://github.com/justadudewhohacks/face-api.js) - 顔検出・表情認識
- [TensorFlow.js](https://www.tensorflow.org/js) - 汎用ML
- [MediaPipe Face Mesh](https://google.github.io/mediapipe/solutions/face_mesh.html) - 顔のランドマーク検出

### 既存の実装
- `offscreen.js` - MediaPipe Hand Landmarker を使用中
- 同様のパターンで face-api.js を追加可能

---

## 注意事項

### プライバシー
- すべての処理はローカルで実行
- 画像データは外部に送信しない
- ユーザーが明示的にオン/オフを切り替え可能にする

### パフォーマンス
- 複数のMLモデルを同時実行すると重くなる可能性
- 検出間隔を調整可能にする
- 必要に応じてモデルを遅延ロード
